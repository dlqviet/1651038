window.__require=function e(t,o,n){function i(r,c){if(!o[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var p="function"==typeof __require&&__require;if(!c&&p)return p(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}}var l=o[r]={exports:{}};t[r][0].call(l.exports,function(e){return i(t[r][1][e]||e)},l,l.exports,e,t,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"c8cbfwzWDBIX6B3L5NMtcW1","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_collisionAudio=null,t.m_dropAudio=null,t.m_scoreAudio=null,t.m_jumpAudio=null,t.m_onSound=null,t.m_offSound=null,t.checkOffAudio=!1,t}return __extends(t,e),t.prototype.PlayJumpSound=function(){cc.audioEngine.playEffect(this.m_jumpAudio,!1),this.checkOffAudio&&cc.audioEngine.stopAllEffects()},t.prototype.PlayCollisionSound=function(){cc.audioEngine.playEffect(this.m_collisionAudio,!1),this.checkOffAudio&&cc.audioEngine.stopAllEffects()},t.prototype.PlayDropSound=function(){cc.audioEngine.playEffect(this.m_dropAudio,!1),this.checkOffAudio&&cc.audioEngine.stopAllEffects()},t.prototype.PlayScoreSound=function(){cc.audioEngine.playEffect(this.m_scoreAudio,!1),this.checkOffAudio&&cc.audioEngine.stopAllEffects()},t.prototype.OnSoundIngame=function(){this.m_offSound.active=!1,this.m_onSound.active=!0,this.checkOffAudio=!1},t.prototype.OffSoundIngame=function(){this.m_offSound.active=!0,this.m_onSound.active=!1,this.checkOffAudio=!0},__decorate([a(cc.AudioClip)],t.prototype,"m_collisionAudio",void 0),__decorate([a(cc.AudioClip)],t.prototype,"m_dropAudio",void 0),__decorate([a(cc.AudioClip)],t.prototype,"m_scoreAudio",void 0),__decorate([a(cc.AudioClip)],t.prototype,"m_jumpAudio",void 0),__decorate([a(cc.Node)],t.prototype,"m_onSound",void 0),__decorate([a(cc.Node)],t.prototype,"m_offSound",void 0),t=__decorate([i],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],BallBehavior:[function(e,t,o){"use strict";cc._RF.push(t,"162a9aHW8tG74ploDWIoCa2","BallBehavior"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_particle=null,t.m_jumpHeight=0,t.m_jumpDuration=0,t.m_finalFallSpeed=0,t.m_minPixelForSwipe=0,t.firstGravity=0,t.isJumping=!1,t.isFalling=!1,t.startX=0,t.startY=0,t.speedX=0,t.speedY=0,t.touchStart=null,t.touchEnd=null,t.deltaX=null,t.deltaY=null,t.myParticle=null,t.ballManager=null,t.ballTmp=null,t}return __extends(t,e),t.prototype.unuse=function(){this.unscheduleAllCallbacks()},t.prototype.reuse=function(){},t.prototype.onCollisionEnter=function(e,t){switch(this.node.parent.parent.parent.getComponent("AudioManager").PlayCollisionSound(),e.tag){case 1:this.node.getComponent(cc.RigidBody).gravityScale=this.firstGravity;break;case 2:this.node.getComponent(cc.RigidBody).gravityScale=this.firstGravity,this.node.parent.parent.getChildByName("Bonus").getComponent("BonusManager").bonusStack--,0==this.node.parent.parent.getChildByName("Bonus").getComponent("BonusManager").bonusStack?(this.node.parent.parent.parent.getComponent("GameManager").isGameOver=!0,this.node.active=!1):(this.node.active=!1,this.node.parent.parent.getChildByName("Bonus").getComponent("BonusManager").DecreaseBonusTime());break;case 3:this.node.getComponent(cc.RigidBody).gravityScale=this.firstGravity,this.speedX=Math.abs(this.speedX);break;case 4:this.node.getComponent(cc.RigidBody).gravityScale=this.firstGravity,this.speedX=-Math.abs(this.speedX);break;case 5:this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(this.speedX/2,3*Math.abs(this.speedY)),this.node.getComponent(cc.RigidBody).gravityScale=this.firstGravity;break;case 6:if(this.node.getComponent(cc.RigidBody).gravityScale=this.firstGravity,!this.node.parent.getComponent("BallManager").powerFull){this.node.parent.parent.getChildByName("Bonus").getComponent("BonusManager").bonusStack--,0==this.node.parent.parent.getChildByName("Bonus").getComponent("BonusManager").bonusStack?(this.node.parent.parent.parent.getComponent("GameManager").isGameOver=!0,this.node.active=!1):(this.node.active=!1,this.node.parent.parent.getChildByName("Bonus").getComponent("BonusManager").DecreaseBonusTime());break}case 7:this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(this.speedX/2,3*Math.abs(this.speedY)),this.node.getComponent(cc.RigidBody).gravityScale=this.firstGravity}},t.prototype.SetJumpAction=function(){return cc.moveBy(this.m_jumpDuration,cc.v2(0,this.m_jumpHeight)).easing(cc.easeCubicActionOut())},t.prototype.onLoad=function(){this.myParticle=this.m_particle.getComponent(cc.ParticleSystem),this.myParticle.stopSystem(),this.firstGravity=this.node.getComponent(cc.RigidBody).gravityScale,this.startX=this.getComponent(cc.RigidBody).linearVelocity.x,this.startY=this.getComponent(cc.RigidBody).linearVelocity.y,this.speedX=this.startX*-this.node.parent.getComponent("BallManager").randomRL,this.speedY=this.startY*-Math.abs(this.node.parent.getComponent("BallManager").randomRL),this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(this.speedX,this.speedY)},t.prototype.update=function(e){this.node.y>=610&&(this.node.y=610),this.node.x<=-360&&(this.node.x=-360),this.node.x>=360&&(this.node.x=360),this.node.parent.getComponent("BallManager").powerFull?(this.myParticle.resetSystem(),this.node.getChildByName("MotionStreak").active=!1,this.node.getChildByName("PowerStreak").active=!0):(this.myParticle.stopSystem(),this.node.getChildByName("MotionStreak").active=!0,this.node.getChildByName("PowerStreak").active=!1),this.isJumping||(this.node.getComponent(cc.RigidBody).gravityScale+=5*e),this.node.parent.parent.parent.on(cc.Node.EventType.TOUCH_START,function(e){0==e.touch.getID()&&1==!this.node.parent.parent.parent.getComponent("UIManager").m_pauseIngameUI.node.active&&(this.touchStart=e.touch.getLocation(),this.isJumping||(this.isFalling=!1,this.isJumping=!0))},this),this.node.parent.parent.parent.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(0==e.touch.getID()&&1==!this.node.parent.parent.parent.getComponent("UIManager").m_pauseIngameUI.node.active){var t=e.touch.getLocationY();this.touchStart.y-t>this.m_minPixelForSwipe&&(this.isJumping=!1,this.isFalling=!0)}},this),this.node.parent.parent.parent.on(cc.Node.EventType.TOUCH_END,function(e){0==e.touch.getID()&&1==!this.node.parent.parent.parent.getComponent("UIManager").m_pauseIngameUI.node.active&&(this.touchEnd=e.touch.getLocation(),this.isJumping&&(this.isJumping=!1,this.node.parent.parent.parent.getComponent("GameManager").isSwipe=!1,this.node.parent.parent.parent.getComponent("AudioManager").PlayJumpSound(),this.node.getComponent(cc.RigidBody).gravityScale=this.firstGravity,this.node.runAction(this.SetJumpAction()),this.getComponent(cc.RigidBody).linearVelocity=cc.v2(this.speedX,this.speedY)),this.isFalling&&(this.isFalling=!1,this.node.parent.parent.parent.getComponent("GameManager").isSwipe=!0,this.node.parent.parent.parent.getComponent("AudioManager").PlayJumpSound(),this.node.getComponent(cc.RigidBody).gravityScale=this.firstGravity,this.deltaX=this.touchEnd.x-this.touchStart.x,this.deltaY=-Math.abs(this.touchStart.y-this.touchEnd.y),this.deltaX<0?this.speedX=-Math.abs(this.speedX):this.speedX=Math.abs(this.speedX),this.getComponent(cc.RigidBody).linearVelocity=cc.v2(this.m_finalFallSpeed*this.deltaX/Math.abs(this.deltaY),-this.m_finalFallSpeed)))},this)},__decorate([a(cc.Node)],t.prototype,"m_particle",void 0),__decorate([a],t.prototype,"m_jumpHeight",void 0),__decorate([a],t.prototype,"m_jumpDuration",void 0),__decorate([a],t.prototype,"m_finalFallSpeed",void 0),__decorate([a],t.prototype,"m_minPixelForSwipe",void 0),t=__decorate([i],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],BallManager:[function(e,t,o){"use strict";cc._RF.push(t,"90bd5lLWFtH1bXKBYrRMuzw","BallManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_ballPrefab=null,t.m_stackToActivePower=0,t.m_powerTime=0,t.randomRL=0,t.ballPool=null,t.ball=null,t.comboStack=0,t.powerFull=!1,t.powerTimer=0,t}return __extends(t,e),t.prototype.OnStartBall=function(){this.SpawnBall(1)},t.prototype.SpawnBall=function(e){Math.random()<.5?this.randomRL=-1:this.randomRL=1,this.ball=cc.instantiate(this.m_ballPrefab),this.node.addChild(this.ball),e>1?this.ball.setPosition(this.GetBonusBallPosition()):this.ball.setPosition(this.GetStartBallPosition())},t.prototype.DestroyBall=function(e){this.ballPool.put(e)},t.prototype.GetStartBallPosition=function(){var e=300*this.randomRL;return cc.v2(e,500)},t.prototype.GetBonusBallPosition=function(){var e=this.node.parent.getChildByName("Bonus").getChildByName("Bonus").getPosition();return e.x+=50,e.y+=50,e},t.prototype.CheckActivePowerBall=function(){this.comboStack==this.m_stackToActivePower&&(this.schedule(this.PowerTimeCounter,1),this.powerFull=!0,this.comboStack=0)},t.prototype.CheckDeactivePowerBall=function(){this.powerTimer==this.m_powerTime&&(this.unschedule(this.PowerTimeCounter),this.powerTimer=0,this.powerFull=!1)},t.prototype.PowerTimeCounter=function(){this.powerTimer++},t.prototype.ResetBall=function(){this.powerFull=!1,this.comboStack=0,this.powerTimer=0},t.prototype.update=function(){this.CheckActivePowerBall(),this.CheckDeactivePowerBall()},__decorate([a(cc.Prefab)],t.prototype,"m_ballPrefab",void 0),__decorate([a],t.prototype,"m_stackToActivePower",void 0),__decorate([a],t.prototype,"m_powerTime",void 0),t=__decorate([i],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],BonusBehavior:[function(e,t,o){"use strict";cc._RF.push(t,"3b3afu6N9NHwZtMEFl/J0c4","BonusBehavior"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.deadTimer=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.schedule(this.DeadTimeCounter,1)},t.prototype.DeadTimeCounter=function(){this.deadTimer++},t.prototype.onCollisionEnter=function(e,t){switch(e.tag){case 0:this.deadTimer=0,this.node.parent.getComponent("BonusManager").bonusTimer=0,this.node.parent.getComponent("BonusManager").IncreaseBonusTime(),this.node.parent.getComponent("BonusManager").bonusStack++,this.node.parent.parent.getChildByName("Ball").getComponent("BallManager").SpawnBall(this.node.parent.getComponent("BonusManager").bonusStack),this.node.destroy()}},t.prototype.update=function(){this.deadTimer==this.node.parent.getComponent("BonusManager").m_deadTime&&(this.deadTimer=0,this.node.destroy(),this.node.parent.getComponent("BonusManager").ResetBonusTime())},t=__decorate([i],t)}(cc.Component));o.default=a,cc._RF.pop()},{}],BonusManager:[function(e,t,o){"use strict";cc._RF.push(t,"e7666r/vYVOIrVDf3XT8Cmj","BonusManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_bonusPrefab=null,t.m_bonusStack=0,t.m_bonusTime=0,t.m_nextTime=0,t.m_deadTime=0,t.bonusTimer=0,t.newBonus=null,t.spawnOneBonus=!1,t.firstBonusTime=0,t.bonusStack=1,t}return __extends(t,e),t.prototype.onLoad=function(){this.firstBonusTime=this.m_bonusTime,this.schedule(this.BonusTimeCounter,1)},t.prototype.IncreaseBonusTime=function(){this.m_bonusTime+=this.m_nextTime},t.prototype.DecreaseBonusTime=function(){this.m_bonusTime-=this.m_nextTime},t.prototype.ResetBonusTime=function(){this.m_bonusTime=this.firstBonusTime},t.prototype.SpawnBonus=function(){this.bonusTimer=-this.m_deadTime,this.newBonus=cc.instantiate(this.m_bonusPrefab),this.node.addChild(this.newBonus),this.newBonus.setPosition(this.GetBonusPosition())},t.prototype.CheckBonus=function(){0==this.spawnOneBonus&&this.bonusStack<this.m_bonusStack&&this.bonusTimer==this.m_bonusTime&&(this.SpawnBonus(),this.spawnOneBonus=!0,this.scheduleOnce(this.DelayBonus,1))},t.prototype.DelayBonus=function(){this.spawnOneBonus=!1},t.prototype.ResetBonus=function(){this.ResetBonusTime(),this.bonusStack=1,this.bonusTimer=0,this.schedule(this.BonusTimeCounter,1)},t.prototype.GetBonusPosition=function(){var e,t=185*(e=Math.random()<=.5?-1:1)+140*Math.random()*e,o=555*Math.random();return cc.v2(t,o)},t.prototype.BonusTimeCounter=function(){this.bonusTimer++},t.prototype.update=function(){this.CheckBonus()},__decorate([a(cc.Prefab)],t.prototype,"m_bonusPrefab",void 0),__decorate([a],t.prototype,"m_bonusStack",void 0),__decorate([a],t.prototype,"m_bonusTime",void 0),__decorate([a],t.prototype,"m_nextTime",void 0),__decorate([a],t.prototype,"m_deadTime",void 0),t=__decorate([i],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],GameManager:[function(e,t,o){"use strict";cc._RF.push(t,"2cd77J8teJKQppkuscoMoPR","GameManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_ball=null,t.m_platform=null,t.m_spike=null,t.m_bonus=null,t.replay=!1,t.isSwipe=!1,t.isPlaying=!1,t.isGameOver=!1,t.gameTimer=0,t}return __extends(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},t.prototype.StartGame=function(){this.gameTimer=0,this.isPlaying=!0,this.m_platform.getComponent("PlatformManager").deathByRoof=!1,this.m_ball.getComponent("BallManager").OnStartBall(),this.schedule(this.TimeCounter,1)},t.prototype.GameOver=function(){this.isPlaying=!1,this.node.getComponent("AudioManager").PlayDropSound(),this.node.getComponent("UIManager").OnGameOver(),this.scheduleOnce(this.DestroyAll,.1)},t.prototype.ResetGame=function(){this.node.getComponent("LevelManager").heightMeasure=0,this.node.getChildByName("InGame").getChildByName("ScoreManager").getComponent("ScoreManager").ResetScore(),this.m_ball.getComponent("BallManager").ResetBall(),this.m_bonus.getComponent("BonusManager").ResetBonus(),this.gameTimer=0},t.prototype.ReplayGame=function(){this.node.getComponent("UIManager").isRestart=!1,this.ResetGame(),this.StartGame()},t.prototype.DestroyAll=function(){this.m_ball.destroyAllChildren(),this.m_platform.destroyAllChildren(),this.m_spike.destroyAllChildren(),this.m_bonus.destroyAllChildren()},t.prototype.TimeCounter=function(){this.gameTimer++},t.prototype.update=function(){this.isGameOver&&(this.isGameOver=!1,this.GameOver())},__decorate([a(cc.Node)],t.prototype,"m_ball",void 0),__decorate([a(cc.Node)],t.prototype,"m_platform",void 0),__decorate([a(cc.Node)],t.prototype,"m_spike",void 0),__decorate([a(cc.Node)],t.prototype,"m_bonus",void 0),t=__decorate([i],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],InputManager:[function(e,t,o){"use strict";cc._RF.push(t,"a21cdNk8tpGcKYnqykHoCV4","InputManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.update=function(){},t=__decorate([i],t)}(cc.Component));o.default=a,cc._RF.pop()},{}],LevelManager:[function(e,t,o){"use strict";cc._RF.push(t,"7ad49+vwJhEabRdV1a6M/iC","LevelManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(){function e(){this.m_prefab=null,this.m_spawnRate=0}return __decorate([a(cc.Prefab)],e.prototype,"m_prefab",void 0),__decorate([a(Number)],e.prototype,"m_spawnRate",void 0),e=__decorate([i("PrefabElement")],e)}();o.PrefabElement=r;var c=function(){function e(){this.m_prefab=null,this.m_minHeight=0,this.m_maxHeight=0,this.m_indicatorDurationTime=0,this.m_indicatorFlashingTime=0,this.m_rocketSpeed=0}return __decorate([a(cc.Prefab)],e.prototype,"m_prefab",void 0),__decorate([a(Number)],e.prototype,"m_minHeight",void 0),__decorate([a(Number)],e.prototype,"m_maxHeight",void 0),__decorate([a(Number)],e.prototype,"m_indicatorDurationTime",void 0),__decorate([a(Number)],e.prototype,"m_indicatorFlashingTime",void 0),__decorate([a(Number)],e.prototype,"m_rocketSpeed",void 0),e=__decorate([i("NormalRocket")],e)}();o.NormalRocket=c;var s=function(){function e(){this.m_prefab=null,this.m_time=0,this.m_minHeight=0,this.m_maxHeight=0,this.m_indicatorFollowDurationTime=0,this.m_indicatorFlashingTime=0,this.m_rocketSpeed=0}return __decorate([a(cc.Prefab)],e.prototype,"m_prefab",void 0),__decorate([a(Number)],e.prototype,"m_time",void 0),__decorate([a(Number)],e.prototype,"m_minHeight",void 0),__decorate([a(Number)],e.prototype,"m_maxHeight",void 0),__decorate([a(Number)],e.prototype,"m_indicatorFollowDurationTime",void 0),__decorate([a(Number)],e.prototype,"m_indicatorFlashingTime",void 0),__decorate([a(Number)],e.prototype,"m_rocketSpeed",void 0),e=__decorate([i("FollowRocket")],e)}();o.FollowRocket=s;var p=function(){function e(){this.m_startTime=0,this.m_levelTime=0,this.m_speedSpawn=0,this.m_normalRocket=!1,this.m_normalRocketInfo=null,this.m_followRocket=!1,this.m_followRocketInfo=null,this.m_prefabArray=[]}return __decorate([a(Number)],e.prototype,"m_startTime",void 0),__decorate([a(Number)],e.prototype,"m_levelTime",void 0),__decorate([a(Number)],e.prototype,"m_speedSpawn",void 0),__decorate([a(Boolean)],e.prototype,"m_normalRocket",void 0),__decorate([a({type:c,visible:function(){return this.m_normalRocket}})],e.prototype,"m_normalRocketInfo",void 0),__decorate([a(Boolean)],e.prototype,"m_followRocket",void 0),__decorate([a({type:s,visible:function(){return this.m_followRocket}})],e.prototype,"m_followRocketInfo",void 0),__decorate([a(r)],e.prototype,"m_prefabArray",void 0),e=__decorate([i("Level")],e)}();o.Level=p;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_level=[],t.levelNo=0,t.prefabType=null,t.tmp=0,t.random=0,t.heightMeasure=0,t}return __extends(t,e),t.prototype.CheckLevelUp=function(){this.node.getComponent("GameManager").gameTimer==this.tmp&&this.node.getChildByName("InGame").getChildByName("Platform").getComponent("PlatformManager").UnscheduleSpawn()},t.prototype.CheckLevel=function(){for(var e=0;e<this.m_level.length;e++)if(this.node.getComponent("GameManager").gameTimer==this.m_level[e].m_startTime){this.levelNo=e;break}},t.prototype.LoadLevel=function(){for(var e=0;e<this.m_level.length;e++)if(this.levelNo==e){this.random=100*Math.random();var t=1,o=0,n=this.m_level[e].m_prefabArray[0].m_spawnRate;for(this.random>=o&&this.random<n&&(this.prefabType=this.m_level[e].m_prefabArray[0].m_prefab);t<this.m_level[e].m_prefabArray.length;)o+=this.m_level[e].m_prefabArray[t-1].m_spawnRate,n+=this.m_level[e].m_prefabArray[t].m_spawnRate,this.random>=o&&this.random<n&&(this.prefabType=this.m_level[e].m_prefabArray[t].m_prefab),t++;this.node.getChildByName("InGame").getChildByName("Platform").getComponent("PlatformManager").ScheduleSpawn(),this.m_level[e].m_normalRocket&&this.node.getChildByName("InGame").getChildByName("Rocket").getComponent("RocketManager").ScheduleSpawn(),this.tmp=this.m_level[e].m_startTime+this.m_level[e].m_levelTime;break}},t.prototype.InitialPlatforms=function(){for(this.heightMeasure;this.heightMeasure<this.node.height/2;this.heightMeasure+=120)this.node.getChildByName("InGame").getChildByName("Platform").getComponent("PlatformManager").SpawnBeginPlatforms()},t.prototype.update=function(){this.node.getComponent("GameManager").isPlaying&&(this.CheckLevel(),this.LoadLevel(),this.CheckLevelUp(),this.InitialPlatforms())},__decorate([a(p)],t.prototype,"m_level",void 0),t=__decorate([i],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],PlatformBehavior:[function(e,t,o){"use strict";cc._RF.push(t,"b1ae1EuDidCsbGfNd74wlwB","PlatformBehavior"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_color=[],t.m_sprite=[],t.m_animation=null,t.m_limitBreak=0,t.collisionTime=0,t.breakTime=0,t.oneScore=!1,t}return __extends(t,e),t.prototype.onLoad=function(){this.breakTime=this.m_limitBreak},t.prototype.BreakBrick=function(){var e=this;this.node.getChildByName("PerfectPoint").getComponent(cc.Animation).defaultClip=this.m_animation,this.node.getChildByName("PerfectPoint").getComponent(cc.Animation).play(this.m_animation.toString()),this.node.getComponent(cc.Animation).play(this.m_animation.toString()),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.node.destroy()},this)));var t=this.node.getPosition();this.node.parent.parent.getChildByName("ScoreManager").getComponent("ScoreManager").GainScore(t)},t.prototype.BreakBrickPerfect=function(){var e=this;this.node.getChildByName("PerfectPoint").getComponent(cc.Animation).defaultClip=this.m_animation,this.node.getChildByName("PerfectPoint").getComponent(cc.Animation).play(this.m_animation.toString()),this.node.getComponent(cc.Animation).play(this.m_animation.toString()),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.node.destroy()},this)));var t=this.node.getPosition();this.node.parent.parent.getChildByName("ScoreManager").getComponent("ScoreManager").GainScorePerfect(t)},t.prototype.onCollisionEnter=function(e,t){switch(e.tag){case 0:switch(t.tag){case 5:if(this.node.parent.parent.getChildByName("Ball").getComponent("BallManager").powerFull){255==this.node.opacity&&(this.node.opacity-=1,this.BreakBrick(),this.collisionTime=0);break}this.node.parent.parent.getChildByName("Ball").getComponent("BallManager").comboStack=0,this.collisionTime++,this.collisionTime==this.m_limitBreak&&255==this.node.opacity&&(this.node.opacity-=1,this.BreakBrick(),this.collisionTime=0),this.collisionTime==this.m_limitBreak-this.breakTime+1&&(this.node.getComponent(cc.Sprite).spriteFrame=this.m_sprite[this.m_limitBreak-this.breakTime],this.breakTime--);break;case 6:if(this.node.parent.parent.getChildByName("Ball").getComponent("BallManager").powerFull){255==this.node.opacity&&(this.node.opacity-=1,this.BreakBrick(),this.collisionTime=0);break}case 7:this.node.parent.parent.getChildByName("Ball").getComponent("BallManager").powerFull||this.node.parent.parent.getChildByName("Ball").getComponent("BallManager").comboStack++,255==this.node.opacity&&(this.node.opacity-=1,this.BreakBrickPerfect(),this.collisionTime=0)}}switch(e.tag){case 1:switch(t.tag){case 5:this.node.parent.getComponent("PlatformManager").deathByRoof=!0,this.node.parent.parent.parent.getComponent("GameManager").GameOver()}}},__decorate([a(cc.Color)],t.prototype,"m_color",void 0),__decorate([a([cc.SpriteFrame])],t.prototype,"m_sprite",void 0),__decorate([a(cc.AnimationClip)],t.prototype,"m_animation",void 0),__decorate([a],t.prototype,"m_limitBreak",void 0),t=__decorate([i],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],PlatformManager:[function(e,t,o){"use strict";cc._RF.push(t,"80ea4cEVXdA3KlhNIig1krI","PlatformManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.newPlatform=null,t.prefabSlot=null,t.deathByRoof=!1,t}return __extends(t,e),t.prototype.ScheduleSpawn=function(){this.schedule(this.SpawnNewPlatform,this.node.parent.parent.getComponent("LevelManager").m_level[this.node.parent.parent.getComponent("LevelManager").levelNo].m_speedSpawn)},t.prototype.UnscheduleSpawn=function(){this.unschedule(this.SpawnNewPlatform)},t.prototype.SpawnNewPlatform=function(){this.prefabSlot=this.node.parent.parent.getComponent("LevelManager").prefabType,this.newPlatform=cc.instantiate(this.prefabSlot),this.node.parent.parent.getComponent("LevelManager").levelNo>0&&this.prefabSlot==this.node.parent.parent.getComponent("LevelManager").m_level[this.node.parent.parent.getComponent("LevelManager").levelNo].m_prefabArray[0].m_prefab&&(this.newPlatform.scaleX=1),Math.random()>=.5&&(this.newPlatform.scaleX=-this.newPlatform.scaleX),this.node.addChild(this.newPlatform),this.newPlatform.setPosition(this.GetPlatformPosition())},t.prototype.SpawnBeginPlatforms=function(){var e=this.node.parent.parent.getComponent("LevelManager").m_level[this.node.parent.parent.getComponent("LevelManager").levelNo].m_prefabArray[0].m_prefab;this.newPlatform=cc.instantiate(e),this.node.addChild(this.newPlatform),this.newPlatform.setPosition(this.GetPlatformPosition())},t.prototype.GetPlatformPosition=function(){var e=this.node.width/2+50*Math.random();return cc.v2(e,-610)},t=__decorate([i],t)}(cc.Component));o.default=a,cc._RF.pop()},{}],RocketBehavior:[function(e,t,o){"use strict";cc._RF.push(t,"3e1a2SWEdJKioghFsmws4RU","RocketBehavior"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_duration=0,t}return __extends(t,e),t.prototype.RocketRotation=function(){switch(this.node.parent.getComponent("RocketManager").random){case-1:this.node.rotation=0,this.getComponent(cc.RigidBody).linearVelocity=cc.v2(500,0);break;case 1:this.node.rotation=180,this.getComponent(cc.RigidBody).linearVelocity=cc.v2(-500,0)}},t.prototype.DestroyRocket=function(){this.node.destroy()},t.prototype.update=function(e){},__decorate([a],t.prototype,"m_duration",void 0),t=__decorate([i],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],RocketManager:[function(e,t,o){"use strict";cc._RF.push(t,"95ea19VAIFMooKzzNxYZ0Dp","RocketManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.newRocket=null,t.prefabSlot=null,t.random=0,t}return __extends(t,e),t.prototype.ScheduleSpawn=function(){this.schedule(this.SpawnNewRocket,1)},t.prototype.UnscheduleSpawn=function(){this.unschedule(this.SpawnNewRocket)},t.prototype.SpawnNewRocket=function(){var e=Math.random();this.random=e<.33?1:e>.66?-1:0,this.newRocket=cc.instantiate(this.node.parent.parent.getComponent("LevelManager").m_level[this.node.parent.parent.getComponent("LevelManager").levelNo].m_normalRocketInfo.m_prefab),this.node.addChild(this.newRocket),this.newRocket.getComponent("RocketBehavior").RocketRotation(),this.newRocket.setPosition(this.GetRocketPosition())},t.prototype.GetRocketPosition=function(){if(-1==this.random||1==this.random){var e=335*this.random,t=565-1180*Math.random();return cc.v2(e,t)}},t=__decorate([i],t)}(cc.Component));o.default=a,cc._RF.pop()},{}],ScoreAnimation:[function(e,t,o){"use strict";cc._RF.push(t,"a4cd80t70BAQJoAcGpnEMsh","ScoreAnimation"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scoreFX=null,t}return __extends(t,e),t.prototype.init=function(e){this.scoreFX=e},t.prototype.hideFX=function(){this.scoreFX.despawn()},t=__decorate([i],t)}(cc.Component));o.default=a,cc._RF.pop()},{}],ScoreEffect:[function(e,t,o){"use strict";cc._RF.push(t,"df7e1MnritEFaztBBIeReXY","ScoreEffect"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t.game=null,t}return __extends(t,e),t.prototype.init=function(e){this.game=e,this.anim.getComponent("ScoreAnimation").init(this)},t.prototype.despawn=function(){"PerfectScoreEffect"==this.node.name?this.game.DespawnPerfectScoreFX(this.node):this.game.DespawnScoreFX(this.node)},t.prototype.play=function(){this.anim.play("score_pop")},__decorate([a({type:cc.Animation})],t.prototype,"anim",void 0),t=__decorate([i],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],ScoreManager:[function(e,t,o){"use strict";cc._RF.push(t,"acbc6IAf6hJu6Xhiai61NOt","ScoreManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_scoreEffect=null,t.m_perfectScoreEffect=null,t.m_scoreLabel=null,t.m_scoreBoard=null,t.m_scoreOnBoard=null,t.m_highScore=null,t.score=0,t.bestScore=0,t.scorePool=null,t.perfectScorePool=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.scorePool=new cc.NodePool("ScoreEffect"),this.perfectScorePool=new cc.NodePool("PerfectScoreEffect")},t.prototype.ResetScore=function(){this.score=0,this.m_scoreLabel.string=this.score.toString()},t.prototype.GainScore=function(e){this.score+=1,this.m_scoreLabel.string=this.score.toString(),this.node.parent.parent.getComponent("AudioManager").PlayScoreSound();var t=this.SpawnScoreFX();this.node.addChild(t.node),t.node.setPosition(e),t.play()},t.prototype.GainScorePerfect=function(e){this.score+=2,this.m_scoreLabel.string=this.score.toString(),this.node.parent.parent.getComponent("AudioManager").PlayScoreSound();var t=this.SpawnScoreFXPerfect();this.node.addChild(t.node),t.node.setPosition(e),t.play()},t.prototype.SpawnScoreFX=function(){var e;return this.scorePool.size()>0?(e=this.scorePool.get()).getComponent("ScoreEffect"):((e=cc.instantiate(this.m_scoreEffect).getComponent("ScoreEffect")).init(this),e)},t.prototype.SpawnScoreFXPerfect=function(){var e;return this.perfectScorePool.size()>0?(e=this.perfectScorePool.get()).getComponent("ScoreEffect"):((e=cc.instantiate(this.m_perfectScoreEffect).getComponent("ScoreEffect")).init(this),e)},t.prototype.DespawnScoreFX=function(e){this.scorePool.put(e)},t.prototype.DespawnPerfectScoreFX=function(e){this.perfectScorePool.put(e)},t.prototype.DisplayScoreBoard=function(){var e=this.score;this.bestScore=cc.sys.localStorage.getItem(this.m_highScore),(0==this.bestScore||e>this.bestScore)&&(this.bestScore=e),cc.sys.localStorage.setItem(this.m_highScore,this.bestScore),this.m_highScore.string=this.bestScore.toString(),this.m_scoreOnBoard.string=e.toString()},__decorate([a(cc.Prefab)],t.prototype,"m_scoreEffect",void 0),__decorate([a(cc.Prefab)],t.prototype,"m_perfectScoreEffect",void 0),__decorate([a(cc.Label)],t.prototype,"m_scoreLabel",void 0),__decorate([a(cc.Node)],t.prototype,"m_scoreBoard",void 0),__decorate([a(cc.Label)],t.prototype,"m_scoreOnBoard",void 0),__decorate([a(cc.Label)],t.prototype,"m_highScore",void 0),t=__decorate([i],t)}(cc.Component);o.default=r,cc._RF.pop()},{}],UIManager:[function(e,t,o){"use strict";cc._RF.push(t,"bae09ai80FNrIJ2bxABGSb8","UIManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_gameName=null,t.m_playButton=null,t.m_replayButton=null,t.m_mainMenuGameUI=null,t.m_inGameUI=null,t.m_roof=null,t.m_gameOverUI=null,t.m_pauseIngameUI=null,t.m_settingUI=null,t.isRestart=!1,t}return __extends(t,e),t.prototype.onLoad=function(){this.m_roof.active=!1},t.prototype.OnGameOver=function(){this.m_gameOverUI.active=!0,this.m_inGameUI.active=!1,this.m_replayButton.active=!0,this.node.getChildByName("InGame").getChildByName("ScoreManager").getComponent("ScoreManager").DisplayScoreBoard()},t.prototype.PressBtnPause=function(){cc.director.pause(),this.isRestart=!0,this.m_pauseIngameUI.node.active=!0},t.prototype.PressBtnPlay=function(){this.m_gameName.active=!1,this.m_gameOverUI.active=!1,this.m_mainMenuGameUI.active=!1,this.m_inGameUI.active=!0,this.m_roof.active=!0,cc.director.resume()},t.prototype.PressBtnPlayContinue=function(){this.isRestart=!1,this.m_pauseIngameUI.node.active=!1,cc.director.resume()},t.prototype.PressBtnHomeInPaused=function(){this.m_inGameUI.active=!1,this.m_pauseIngameUI.node.active=!1,this.m_gameOverUI.active=!1,this.m_gameName.active=!0,this.m_mainMenuGameUI.active=!0,cc.director.resume()},t.prototype.PressBtnRestartGame=function(){this.m_pauseIngameUI.node.active=!1,cc.director.resume()},t.prototype.PressBtnSettingIngame=function(){this.m_mainMenuGameUI.active=!1,this.m_settingUI.node.active=!0},t.prototype.PressBackInSettingUI=function(){this.m_settingUI.node.active=!1,this.m_mainMenuGameUI.active=!0},t.prototype.update=function(){this.m_gameOverUI.active&&(this.m_roof.active=!1)},__decorate([a(cc.Node)],t.prototype,"m_gameName",void 0),__decorate([a(cc.Node)],t.prototype,"m_playButton",void 0),__decorate([a(cc.Node)],t.prototype,"m_replayButton",void 0),__decorate([a(cc.Node)],t.prototype,"m_mainMenuGameUI",void 0),__decorate([a(cc.Node)],t.prototype,"m_inGameUI",void 0),__decorate([a(cc.Node)],t.prototype,"m_roof",void 0),__decorate([a(cc.Node)],t.prototype,"m_gameOverUI",void 0),__decorate([a(cc.Layout)],t.prototype,"m_pauseIngameUI",void 0),__decorate([a(cc.Layout)],t.prototype,"m_settingUI",void 0),t=__decorate([i],t)}(cc.Component);o.default=r,cc._RF.pop()},{}]},{},["BonusBehavior","BonusManager","BallBehavior","BallManager","InputManager","AudioManager","GameManager","LevelManager","UIManager","PlatformBehavior","PlatformManager","ScoreAnimation","ScoreEffect","ScoreManager","RocketBehavior","RocketManager"]);